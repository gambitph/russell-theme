jQuery(document).ready(function(e){var l=!1,a=2,s=null,r=null,i=function(){if(e("body").hasClass("archive")&&(s=bottomScrollParams.query),!l){if(e(this).attr("data-tag-id")){a=1,r=e(this).attr("data-tag-id"),e(".russell-gallery").remove();var i='<div id="loader-wrapper"><div id="loader"></div></div>';setTimeout(function(){var e=jQuery;e(".russell-content-large").append(i)}),setTimeout(function(){var e=jQuery;e("div#loader-wrapper").remove()},3e3)}else if(e(this).scrollTop()+e(this).innerHeight()<e(this)[0].scrollHeight)return;l=!0,e.ajax({url:bottomScrollParams.ajaxurl,data:{action:"russell_large_content",page:a,query:s,tag_id:r},success:function(e){if(e=JSON.parse(e),"undefined"!=typeof e&&null!==e){for(var s="<div class='russell-gallery'>",r=0;r<e.length;r++){0===r&&(s+="<div class='russell-gallery-left'>");var i="";for(var t in e[r].categories)i+="<li><a href='"+e[r].cat_link[t]+"'>"+e[r].categories[t]+"</a></li>";s+=""===e[r].image?"<div class='gallery-image has-no-featured-image russell_hide'><span class='image-title'>"+e[r].title+"</span><a href='"+e[r].link+"'><img src='"+e[r].image+"'></a><ul>"+i+"</ul></div>":"<div class='gallery-image russell_hide'><span class='image-title'>"+e[r].title+"</span><a href='"+e[r].link+"'><img src='"+e[r].image+"'></a><ul>"+i+"</ul></div>",r===Math.ceil(e.length/2)&&(s+="</div>",s+="<div class='russell-gallery-right'>"),r===e.length-1&&(s+="</div>")}s+="</div>",setTimeout(function(){var e=jQuery;e(".russell-content-large").append(s),setTimeout(function(){var e=jQuery;e(".russell_hide").removeClass("russell_hide")},10)},2e3),l=!1,a++}},error:function(){l=!1}})}};e("body.home .russell-content-large, body.archive .russell-content-large, body.search .russell-content-large").bind("scroll",i),e("body.archive .russell-content-small .russell-taglist li a, body.search .russell-content-small .russell-taglist li a").click(i),e("body").hasClass("home")|e("body").hasClass("archive")|e("body").hasClass("search")&&(a=1,i()),setTimeout(function(){var e=jQuery;e("div#loader-wrapper").remove()},3e3)});